@model IEnumerable<Gallery>
@using BryceFamily.Web.MVC.Infrastructure.Authentication

@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<div class="col-md-10">
    <div class="row">
        <h2>Galleries</h2>
        @if (User.IsInRole(RoleNameConstants.AdminRole) || User.IsInRole(RoleNameConstants.SuperAdminRole))
        {
            <span class="editorButton">@Html.ActionLink("Add New", "NewGallery", "Gallery", null, new { @class = "btn btn-primary" })</span>
        }
    </div>
    <ul class="event-summary">
        @foreach (var evt in Model)
            {
            <li class="event">
                <h3>@Html.ActionLink(evt.Title, "Detail", "Gallery", new { id = evt.Id }, new { @class = "detail-link" })</h3>
                <div class="row">
                    <div class="col-md-2">Owned By: @Html.DisplayFor(t => evt.Owner)</div>
                    <div class="col-md-2">Summary: @Html.DisplayFor(t => evt.Summary)</div>
                    @if (evt.FamilyEvent != null)
                    {
                        <div class="col-md-2">Event: @Html.DisplayFor(t => evt.FamilyEvent.Title)</div>
                        <div class="col-md-2">Event Date: @Html.DisplayFor(t => evt.FamilyEvent.StartDate)</div>

                    }
                    @if (User.IsInRole(RoleNameConstants.AdminRole) || User.IsInRole(RoleNameConstants.SuperAdminRole))
                    {
                        @Html.ActionLink("Edit Images", "EditGalleryImages", "Gallery", new { id = evt.Id }, new { @class = "btn btn-sml" })
                    }
                </div>
            </li>
        }
    </ul>

</div>

